<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
/* Style the buttons */
.btn {
  border: none;
  outline: none;
  padding: 10px 16px;
  background-color: #f1f1f1;
  cursor: pointer;
  font-size: 18px;
}
 
/* Style the active class, and buttons on mouse-over */
.active, .btn:hover {
  background-color: #666;
  color: white;
}
 
/* Style the container for scrolling images */
.image-container {
  max-height: 300px; /* Adjust the height as needed */
  overflow-y: auto;
}
 
/* Style the images */
.image {
  display: block;
  max-width: 100%;
  margin-bottom: 10px;
}
</style>
</head>
<body>
 
<h1>Active Button</h1>
<p>Highlight the active/current (pressed) button.</p>
  
<div id="myDIV">
  <button class="btn active" data-image="image1">1</button>
  <button class="btn" data-image="image2">2</button>
  <button class="btn" data-image="image3">3</button>
  <button class="btn" data-image="image4">4</button>
  <button class="btn" data-image="image5">5</button>
</div>
 
<!-- Container for scrolling images -->
<div class="image-container" id="imageContainer">
    <img id="image1" src="https://plus.unsplash.com/premium_photo-1668024966086-bd66ba04262f?q=80&w=1492&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="image">
    <img id="image2" src="https://images.unsplash.com/photo-1434725039720-aaad6dd32dfe?q=80&w=1642&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="image">
    <img id="image3" src="https://images.unsplash.com/photo-1511576661531-b34d7da5d0bb?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="image">
    <img id="image4" src="https://images.unsplash.com/photo-1413752362258-7af2a667b590?q=80&w=1476&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="image">
    <img id="image5" src="https://plus.unsplash.com/premium_photo-1668024966086-bd66ba04262f?q=80&w=1492&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="image">
    
</div>
 
<script>
// Add active class to the current button (highlight it)
var header = document.getElementById("myDIV");
var btns = header.getElementsByClassName("btn");
var imageContainer = document.getElementById("imageContainer");
 
for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener("click", function() {
    var current = document.getElementsByClassName("active");
    current[0].className = current[0].className.replace("active", "");
    this.className += " active";
 
    // Get the image ID associated with the button
    var imageId = this.getAttribute("data-image");  
 
    // Scroll the image container to the corresponding image
    var activeImage = document.getElementById(imageId);
    if (activeImage) {
      imageContainer.scrollTop = activeImage.offsetTop - imageContainer.offsetTop;
    }
  });
}
 
// Create an observer to track which image is in the viewport
var observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      var imageId = entry.target.id;
      var activeButton = document.querySelector('.btn[data-image="' + imageId + '"]');
      if (activeButton) {
        var currentActiveButton = document.querySelector(".btn.active");
        if (currentActiveButton) {
          currentActiveButton.classList.remove("active");
        }
        activeButton.classList.add("active");
      }
    }
  });
}, {
  root: imageContainer,
  rootMargin: "0px",
  threshold: 0.5
});
 
// Observe all images
var images = document.getElementsByClassName("image");
for (var i = 0; i < images.length; i++) {
  observer.observe(images[i]);
}
</script>
 
</body>
</html>